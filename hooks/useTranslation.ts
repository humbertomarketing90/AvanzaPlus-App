import { useAppContext } from '../context/AppContext';

// JSON data is now embedded to avoid module import issues.
const es = {
  "appName": "AVANZAPLUS",
  "loadingUser": "Cargando usuario...",
  "whatsappMessage": "Hola! Quiero ayuda con mi checklist de AVANZAPLUS.",
  "whatsappAriaLabel": "Contactar por WhatsApp",
  "navHome": "Inicio",
  "navGoals": "Metas",
  "navFinance": "Finanzas",
  "navPlan": "Plan",
  "navLessons": "Lecciones",
  "navProfile": "Perfil",
  "homeWelcome": "Â¡Hola, {{name}}!",
  "homeSubtitle": "AquÃ­ estÃ¡ tu resumen financiero de hoy",
  "homeActionPlanTitle": "Plan de AcciÃ³n",
  "homeSimulatorLoading": "Cargando...",
  "scoreTierBad": "Malo",
  "scoreTierRegular": "Regular",
  "scoreTierGood": "Bueno",
  "scoreTierVeryGood": "Muy Bueno",
  "scoreTierExcellent": "Excelente",
  "Bueno": "Bueno",
  "profileEditAvatar": "Editar avatar",
  "profileFreePlan": "Plan Gratuito",
  "profileFreeDescription": "Mejora para desbloquear mÃ¡s",
  "profileUpgradeButton": "Mejorar",
  "profilePremiumPlan": "Plan Premium",
  "profilePremiumDescription": "Â¡EstÃ¡s aprovechando al mÃ¡ximo!",
  "profileManageButton": "Gestionar",
  "profileMyBadges": "Mis Insignias",
  "profileNoBadges": "Â¡Sigue aprendiendo para ganar medallas!",
  "profileInviteFriends": "Invita y Gana",
  "profileSettingsLink": "ConfiguraciÃ³n",
  "profileSubscriptionLink": "SuscripciÃ³n",
  "profileHistoryLink": "Historial",
  "profileHelpLink": "Ayuda y FAQ",
  "profileLogout": "Cerrar SesiÃ³n",
  "notificationsTitle": "Notificaciones",
  "notificationsEmpty": "No tienes notificaciones nuevas.",
  "notificationsMarkAsRead": "Marcar todas como leÃ­das",
  "faqTitle": "Preguntas Frecuentes",
  "faqSubtitle": "Encuentra respuestas a tus dudas.",
  "faqGoBack": "Volver",
  "faqQ1": "Â¿QuÃ© es AVANZAPLUS?",
  "faqA1": "AVANZAPLUS es una aplicaciÃ³n educativa diseÃ±ada para ayudarte a entender, practicar y mejorar tu salud financiera. ActÃºa como un \"gimnasio de crÃ©dito\" donde puedes tomar decisiones en un simulador sin arriesgar tu dinero real, preparÃ¡ndote para el mundo financiero.",
  "faqQ2": "Â¿AVANZAPLUS me da crÃ©ditos reales?",
  "faqA2": "No. AVANZAPLUS es una herramienta de preparaciÃ³n y educaciÃ³n, no una entidad financiera. Te ayudamos a prepararte para que, cuando vayas a un banco o financiera real, tengas mÃ¡s probabilidades de Ã©xito.",
  "faqQ3": "Â¿CÃ³mo funciona el puntaje de crÃ©dito virtual?",
  "faqA3": "Nuestro puntaje es una simulaciÃ³n educativa. Comienza con un valor base y se ajusta segÃºn las decisiones que tomas en los escenarios. Refleja los principios del sistema crediticio real (pagos a tiempo, nivel de deuda, etc.) para enseÃ±arte quÃ© acciones son positivas o negativas.",
  "faqQ4": "Â¿Para quÃ© sirve el Checklist?",
  "faqA4": "El Checklist es tu guÃ­a personalizada para reunir todos los documentos que las entidades financieras suelen pedir. Al completarlo, te aseguras de tener todo listo, lo que agiliza y fortalece tu solicitud de crÃ©dito real.",
  "faqQ5": "Â¿QuiÃ©n es el AP Coach IA?",
  "faqA5": "El AP Coach es tu asistente de inteligencia artificial personal. Es una funciÃ³n Premium que te permite hacer preguntas sobre finanzas y crÃ©dito en cualquier momento y recibir respuestas claras y educativas, adaptadas a tu perfil.",
  "faqQ6": "Â¿El plan gratuito es suficiente para empezar?",
  "faqA6": "Â¡SÃ­! El plan gratuito te da acceso a todas las herramientas esenciales para comenzar: el simulador, lecciones bÃ¡sicas, calculadoras y el checklist. Es perfecto para dar tus primeros pasos y entender los conceptos fundamentales.",
  "faqQ7": "Â¿QuÃ© beneficios obtengo con el plan Premium?",
  "faqA7": "El plan Premium acelera tu aprendizaje. Desbloquea lecciones avanzadas, anÃ¡lisis mÃ¡s profundos de tus decisiones, el AP Coach IA ilimitado, calculadoras avanzadas y acceso a productos exclusivos en el Marketplace.",
  "faqQ8": "Â¿Mis datos estÃ¡n seguros?",
  "faqA8": "SÃ­. Nos tomamos tu privacidad muy en serio. Toda la informaciÃ³n que proporcionas es para personalizar tu experiencia educativa dentro de la aplicaciÃ³n. No compartimos tus datos personales con terceros sin tu consentimiento.",
  "faqQ9": "Â¿CÃ³mo funcionan las \"Historias de Ã‰xito\"?",
  "faqA9": "Son testimonios anÃ³nimos de usuarios que han mejorado su situaciÃ³n financiera usando la app. Su propÃ³sito es inspirarte y demostrar que, con dedicaciÃ³n y las herramientas correctas, es posible alcanzar tus metas.",
  "faqQ10": "Â¿QuÃ© pasa despuÃ©s de completar el Checklist?",
  "faqA10": "Una vez completado, un asesor (simulado) revisa tus documentos. La app te guiarÃ¡ sobre los siguientes pasos. En el Marketplace, tener un checklist completo te permite enviar \"pre-solicitudes\" simuladas a entidades financieras.",
  "calculatorHistoryTitle": "Historial de Simulaciones",
  "calculatorHistorySubtitle": "Revisa tus cÃ¡lculos guardados.",
  "calculatorHistoryGoBack": "Volver",
  "calculatorHistoryEmpty": "AÃºn no has guardado ninguna simulaciÃ³n.",
  "calculatorHistoryDelete": "Eliminar",
  "calculatorHistoryConfirmDeleteTitle": "Confirmar EliminaciÃ³n",
  "calculatorHistoryConfirmDeleteMessage": "Â¿EstÃ¡s seguro de que quieres eliminar esta simulaciÃ³n?",
  "calculatorHistoryCancel": "Cancelar",
  "calculatorHistorySavedOn": "Guardado el",
  "calculatorsSaveSimulation": "Guardar SimulaciÃ³n",
  "referralModalTitle": "Invita y Gana Puntos",
  "referralModalDescription": "Gana 50 Puntos por cada amigo que se registre. PodrÃ¡s canjearlos por sorpresas.",
  "referralModalEmailLabel": "Correo electrÃ³nico del amigo",
  "referralModalEmailPlaceholder": "amigo@ejemplo.com",
  "referralModalSendButton": "Enviar InvitaciÃ³n",
  "referralSuccessNotification": "Â¡InvitaciÃ³n enviada! RecibirÃ¡s tus puntos cuando tu amigo se registre.",
  "referralInvalidEmailError": "Por favor, introduce un correo electrÃ³nico vÃ¡lido.",
  "referralSendSuccessMessage": "Â¡Genial! InvitaciÃ³n enviada a {{email}}. Puedes invitar a mÃ¡s amigos.",
  "referralInviteAnotherButton": "Invitar a otro amigo",
  "settingsTitle": "ConfiguraciÃ³n",
  "settingsSubtitle": "Personaliza tu experiencia.",
  "settingsGoBack": "Volver al Perfil",
  "settingsNameLabel": "Tu Nombre",
  "settingsLanguageLabel": "Idioma de la App",
  "settingsSaveButton": "Guardar Cambios",
  "settingsPersonalInfoTitle": "InformaciÃ³n Personal",
  "settingsEmailLabel": "Correo ElectrÃ³nico",
  "settingsPhoneLabel": "NÃºmero de TelÃ©fono",
  "settingsAppPreferencesTitle": "Preferencias de la App",
  "settingsCurrencyLabel": "Moneda Principal",
  "settingsNotificationsTitle": "Notificaciones",
  "settingsNotificationsDesc": "Elige quÃ© notificaciones quieres recibir.",
  "settingsNotificationStreak": "Recordatorios de racha diaria",
  "settingsNotificationLessons": "Avisos de nuevas lecciones",
  "settingsNotificationGoals": "Alertas sobre tus metas",
  "settingsFinancialProfileTitle": "Perfil Financiero",
  "settingsFinancialProfileDesc": "Tu situaciÃ³n puede cambiar. Actualiza tus respuestas para que nuestros consejos sigan siendo relevantes para ti.",
  "settingsReonboardingButton": "Actualizar Mi Perfil",
  "settingsRewardsTitle": "Puntos y Recompensas",
  "settingsCurrentPoints": "Puntos Acumulados",
  "settingsRedeemButton": "Canjear Puntos (PrÃ³ximamente)",
  "walletWithdrawButton": "Retirar / Gastar",
  "chatModalTitle": "AP Coach IA",
  "chatModalPlaceholder": "PregÃºntame sobre crÃ©dito...",
  "updateCreditModalTitle": "Actualizar Perfil de CrÃ©dito",
  "updateCreditModalDescription": "Simula cambios en tu perfil para ver cÃ³mo afectan tus finanzas. Esta es una simulaciÃ³n y no afecta tu puntaje real.",
  "updateCreditModalDebtLabel": "Deuda Total",
  "updateCreditModalLinesLabel": "LÃ­neas de CrÃ©dito",
  "updateCreditModalUtilizationLabel": "UtilizaciÃ³n de CrÃ©dito (%)",
  "updateCreditModalSaveButton": "Guardar Cambios",
  "financeGoToChecklist": "Mi Checklist de Documentos",
  "subscriptionCancelButton": "Cancelar SuscripciÃ³n",
  "decisionCenterTitle": "Centro de Decisiones",
  "decisionCenterSubtitle": "Toma una decisiÃ³n y ve el impacto.",
  "decisionCenterGoBack": "Volver al Perfil",
  "decisionCenterHistoryTitle": "Decisiones Recientes",
  "decisionCenterHistoryEmpty": "Tu historial aparecerÃ¡ aquÃ­.",
  "decisionCenterHistoryEmptySubtitle": "Â¡Toma tu primera decisiÃ³n para empezar!",
  "scenarioModalTitle": "AnÃ¡lisis de DecisiÃ³n",
  "scenarioResultTitle": "AsÃ­ impactÃ³ tu decisiÃ³n",
  "scenarioBefore": "Antes",
  "scenarioAfter": "Ahora",
  "scenarioWhy": "Â¿Por quÃ©?",
  "scenarioCoachSays": "ðŸ’¡ AP Coach Dice:",
  "scenarioNextButton": "Siguiente Escenario",
  "guidedSetupStep1Title": "Crea tu Primera Meta",
  "guidedSetupStep1Desc": "El primer paso para el Ã©xito es tener un objetivo claro. Â¡Vamos a crear tu primera meta de ahorro!",
  "guidedSetupStep1Action": "Crear Meta",
  "guidedSetupStep2Title": "Toma tu Primera DecisiÃ³n",
  "guidedSetupStep2Desc": "Aprende cÃ³mo tus elecciones diarias afectan tus finanzas. Â¡Enfrenta tu primer escenario sin riesgo!",
  "guidedSetupStep2Action": "Tomar DecisiÃ³n",
  "guidedSetupStep3Title": "Realiza tu Primer Aporte",
  "guidedSetupStep3Desc": "FamiliarÃ­zate con tu Wallet haciendo un primer aporte simulado. Â¡Es el primer ladrillo de tu futuro!",
  "guidedSetupStep3Action": "Hacer Aporte",
  "guidedSetupStep4Title": "Conoce tu Deuda Total",
  "guidedSetupStep4Desc": "Esta es la suma de todo lo que debes. Mantenerla bajo control es clave. Puedes tocar esta tarjeta en tu Inicio para simular cambios.",
  "guidedSetupStep5Title": "Entiende tus LÃ­neas de CrÃ©dito",
  "guidedSetupStep5Desc": "Es la cantidad de crÃ©ditos que tienes (tarjetas, prÃ©stamos). Demasiados crÃ©ditos nuevos pueden afectar tu puntaje.",
  "guidedSetupStep6Title": "Vigila tu UtilizaciÃ³n",
  "guidedSetupStep6Desc": "Es el porcentaje de tu crÃ©dito disponible que estÃ¡s usando. Â¡Mantenerlo por debajo del 30% es una meta excelente!",
  "guidedSetupStep7Title": "Tu Plan de AcciÃ³n DinÃ¡mico",
  "guidedSetupStep7Desc": "Este es tu guÃ­a personalizada. Cuando completes todas las tareas, Â¡tu Coach IA crearÃ¡ un nuevo plan mÃ¡s avanzado para ti!",
  "guidedSetupNextButton": "Entendido, Â¡siguiente!",
  "guidedSetupOmitButton": "Omitir por ahora"
};
const en = {
  "appName": "AVANZAPLUS",
  "loadingUser": "Loading user...",
  "whatsappMessage": "Hello! I need help with my AVANZAPLUS checklist.",
  "whatsappAriaLabel": "Contact via WhatsApp",
  "navHome": "Home",
  "navGoals": "Goals",
  "navFinance": "Finance",
  "navPlan": "Plan",
  "navLessons": "Lessons",
  "navProfile": "Profile",
  "homeWelcome": "Hello, {{name}}!",
  "homeSubtitle": "Here is your financial summary for today.",
  "homeActionPlanTitle": "Action Plan",
  "homeSimulatorLoading": "Loading...",
  "scoreTierBad": "Poor",
  "scoreTierRegular": "Fair",
  "scoreTierGood": "Good",
  "scoreTierVeryGood": "Very Good",
  "scoreTierExcellent": "Excellent",
  "Bueno": "Good",
  "profileEditAvatar": "Edit avatar",
  "profileFreePlan": "Free Plan",
  "profileFreeDescription": "Upgrade to unlock more",
  "profileUpgradeButton": "Upgrade",
  "profilePremiumPlan": "Premium Plan",
  "profilePremiumDescription": "You're making the most of it!",
  "profileManageButton": "Manage",
  "profileMyBadges": "My Badges",
  "profileNoBadges": "Keep learning in the app to earn badges!",
  "profileInviteFriends": "Invite & Earn",
  "profileSettingsLink": "Settings",
  "profileSubscriptionLink": "Subscription",
  "profileHistoryLink": "History",
  "profileHelpLink": "Help & FAQ",
  "profileLogout": "Log Out",
  "notificationsTitle": "Notifications",
  "notificationsEmpty": "You have no new notifications.",
  "notificationsMarkAsRead": "Mark all as read",
  "faqTitle": "Frequently Asked Questions",
  "faqSubtitle": "Find answers to your questions.",
  "faqGoBack": "Go Back",
  "faqQ1": "What is AVANZAPLUS?",
  "faqA1": "AVANZAPLUS is an educational app designed to help you understand, practice, and improve your financial health. It acts as a \"credit gym\" where you can make decisions in a simulator without risking your real money, preparing you for the financial world.",
  "faqQ2": "Does AVANZAPLUS give real loans?",
  "faqA2": "No. AVANZAPLUS is a preparation and education tool, not a financial institution. We help you get ready so that when you go to a real bank or lender, you have a higher chance of success.",
  "faqQ3": "How does the virtual credit score work?",
  "faqA3": "Our score is an educational simulation. It starts with a base value and adjusts based on the decisions you make in the scenarios. It reflects the principles of the real credit system (on-time payments, debt level, etc.) to teach you which actions are positive or negative.",
  "faqQ4": "What is the Checklist for?",
  "faqA4": "The Checklist is your personalized guide to gather all the documents that financial institutions usually request. By completing it, you ensure you have everything ready, which streamlines and strengthens your real credit application.",
  "faqQ5": "Who is the AI AP Coach?",
  "faqA5": "The AP Coach is your personal artificial intelligence assistant. It is a Premium feature that allows you to ask questions about finance and credit at any time and receive clear, educational answers tailored to your profile.",
  "faqQ6": "Is the free plan enough to get started?",
  "faqA6": "Yes! The free plan gives you access to all the essential tools to begin: the simulator, basic lessons, calculators, and the checklist. It's perfect for taking your first steps and understanding fundamental concepts.",
  "faqQ7": "What benefits do I get with the Premium plan?",
  "faqA7": "The Premium plan accelerates your learning. It unlocks advanced lessons, deeper analysis of your decisions, the unlimited AI AP Coach, advanced calculators, and access to exclusive products in the Marketplace.",
  "faqQ8": "Is my data secure?",
  "faqA8": "Yes. We take your privacy very seriously. All the information you provide is to personalize your educational experience within the app. We do not share your personal data with third parties without your consent.",
  "faqQ9": "How do \"Success Stories\" work?",
  "faqA9": "They are anonymous testimonials from users who have improved their financial situation using the app. Their purpose is to inspire you and show that with dedication and the right tools, it is possible to achieve your goals.",
  "faqQ10": "What happens after completing the Checklist?",
  "faqA10": "Once completed, a (simulated) advisor reviews your documents. The app will guide you on the next steps. In the Marketplace, having a complete checklist allows you to send simulated \"pre-applications\" to financial institutions.",
  "calculatorHistoryTitle": "Simulation History",
  "calculatorHistorySubtitle": "Review your saved calculations.",
  "calculatorHistoryGoBack": "Go Back",
  "calculatorHistoryEmpty": "You haven't saved any simulations yet.",
  "calculatorHistoryDelete": "Delete",
  "calculatorHistoryConfirmDeleteTitle": "Confirm Deletion",
  "calculatorHistoryConfirmDeleteMessage": "Are you sure you want to delete this simulation?",
  "calculatorHistoryCancel": "Cancel",
  "calculatorHistorySavedOn": "Saved on",
  "calculatorsSaveSimulation": "Save Simulation",
  "referralModalTitle": "Invite & Earn Points",
  "referralModalDescription": "Earn 50 Points for every friend who signs up. You can redeem them for surprises.",
  "referralModalEmailLabel": "Friend's Email Address",
  "referralModalEmailPlaceholder": "friend@example.com",
  "referralModalSendButton": "Send Invitation",
  "referralSuccessNotification": "Invitation sent! You'll receive your points when your friend signs up.",
  "referralInvalidEmailError": "Please enter a valid email address.",
  "referralSendSuccessMessage": "Great! Invitation sent to {{email}}. You can invite more friends.",
  "referralInviteAnotherButton": "Invite Another Friend",
  "settingsTitle": "Settings",
  "settingsSubtitle": "Customize your experience.",
  "settingsGoBack": "Back to Profile",
  "settingsNameLabel": "Your Name",
  "settingsLanguageLabel": "App Language",
  "settingsSaveButton": "Save Changes",
  "settingsPersonalInfoTitle": "Personal Information",
  "settingsEmailLabel": "Email Address",
  "settingsPhoneLabel": "Phone Number",
  "settingsAppPreferencesTitle": "App Preferences",
  "settingsCurrencyLabel": "Main Currency",
  "settingsNotificationsTitle": "Notifications",
  "settingsNotificationsDesc": "Choose which notifications you want to receive.",
  "settingsNotificationStreak": "Daily streak reminders",
  "settingsNotificationLessons": "New lesson alerts",
  "settingsNotificationGoals": "Goal milestone alerts",
  "settingsFinancialProfileTitle": "Financial Profile",
  "settingsFinancialProfileDesc": "Your situation can change. Update your answers to keep our advice relevant to you.",
  "settingsReonboardingButton": "Update My Profile",
  "settingsRewardsTitle": "Points & Rewards",
  "settingsCurrentPoints": "Accumulated Points",
  "settingsRedeemButton": "Redeem Points (Coming Soon)",
  "walletWithdrawButton": "Withdraw / Spend",
  "chatModalTitle": "AI AP Coach",
  "chatModalPlaceholder": "Ask me about credit...",
  "updateCreditModalTitle": "Update Credit Profile",
  "updateCreditModalDescription": "Simulate changes to your profile to see how they affect your finances. This is a simulation and does not affect your real score.",
  "updateCreditModalDebtLabel": "Total Debt",
  "updateCreditModalLinesLabel": "Credit Lines",
  "updateCreditModalUtilizationLabel": "Credit Utilization (%)",
  "updateCreditModalSaveButton": "Save Changes",
  "financeGoToChecklist": "My Document Checklist",
  "subscriptionCancelButton": "Cancel Subscription",
  "decisionCenterTitle": "Decision Center",
  "decisionCenterSubtitle": "Make a decision and see the impact.",
  "decisionCenterGoBack": "Back to Profile",
  "decisionCenterHistoryTitle": "Recent Decisions",
  "decisionCenterHistoryEmpty": "Your history will appear here.",
  "decisionCenterHistoryEmptySubtitle": "Make your first decision to get started!",
  "scenarioModalTitle": "Decision Analysis",
  "scenarioResultTitle": "Here's the impact of your decision",
  "scenarioBefore": "Before",
  "scenarioAfter": "Now",
  "scenarioWhy": "Why?",
  "scenarioCoachSays": "ðŸ’¡ AP Coach Says:",
  "scenarioNextButton": "Next Scenario",
  "guidedSetupStep1Title": "Create Your First Goal",
  "guidedSetupStep1Desc": "The first step to success is having a clear objective. Let's create your first savings goal!",
  "guidedSetupStep1Action": "Create Goal",
  "guidedSetupStep2Title": "Make Your First Decision",
  "guidedSetupStep2Desc": "Learn how your daily choices affect your finances. Face your first scenario without any risk!",
  "guidedSetupStep2Action": "Make Decision",
  "guidedSetupStep3Title": "Make Your First Deposit",
  "guidedSetupStep3Desc": "Get familiar with your Wallet by making your first simulated deposit. It's the first brick of your future!",
  "guidedSetupStep3Action": "Make Deposit",
  "guidedSetupStep4Title": "Know Your Total Debt",
  "guidedSetupStep4Desc": "This is the sum of everything you owe. Keeping it under control is key. You can tap this card on your Home screen to simulate changes.",
  "guidedSetupStep5Title": "Understand Your Credit Lines",
  "guidedSetupStep5Desc": "This is the number of credits you have (cards, loans). Too many new credits can affect your score.",
  "guidedSetupStep6Title": "Watch Your Utilization",
  "guidedSetupStep6Desc": "This is the percentage of your available credit that you are using. Keeping it below 30% is an excellent goal!",
  "guidedSetupStep7Title": "Your Dynamic Action Plan",
  "guidedSetupStep7Desc": "This is your personalized guide. When you complete all the tasks, your AI Coach will create a new, more advanced plan for you!",
  "guidedSetupNextButton": "Got it, next!",
  "guidedSetupOmitButton": "Skip for now"
};

const translations = { es, en };

type TranslationKey = keyof typeof es;

export const useTranslation = () => {
  const { state } = useAppContext();
  const lang = state.user?.language || 'es';

  const t = (key: TranslationKey | string, params?: Record<string, string | number>): string => {
    let translation: string = (translations[lang] as any)[key] || (translations['es'] as any)[key] || key;
    if (params) {
      Object.keys(params).forEach(paramKey => {
        translation = translation.replace(`{{${paramKey}}}`, String(params[paramKey]));
      });
    }
    return translation;
  };

  return { t, currentLang: lang };
};